"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[107],{8107:(J,d,o)=>{o.r(d),o.d(d,{PlacesModule:()=>D});var i=o(6895),r=o(3599),e=o(8256),m=o(2340),p=o(529),h=o(2843),u=o(262);let f=(()=>{class a{constructor(t){this._http=t,this.apiServer=m.N.APISERVER+"place/"}readAll(){let t="";null!=localStorage.getItem("token")&&(t=localStorage.getItem("token"));const c=(new p.WM).append("Authorization",`Bearer ${t}`);return this._http.get(this.apiServer+"all",{headers:c}).pipe((0,u.K)(this.errorHandler))}readOne(t){let c="";null!=localStorage.getItem("token")&&(c=localStorage.getItem("token"));const s=(new p.WM).append("Authorization",`Bearer ${c}`);return this._http.get(this.apiServer+t,{headers:s}).pipe((0,u.K)(this.errorHandler))}errorHandler(t){let c="";return c=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,console.log(c),(0,h._)(c)}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(p.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function P(a,n){if(1&a&&(e.TgZ(0,"div",1)(1,"div",2),e._UZ(2,"img",3),e.TgZ(3,"div",4)(4,"div",5)(5,"p"),e._uU(6),e._UZ(7,"span"),e.qZA()(),e.TgZ(8,"div",6)(9,"div",7),e._UZ(10,"img",8),e.TgZ(11,"small",9),e._uU(12),e.qZA()(),e.TgZ(13,"a",10),e._uU(14,"More Info"),e.qZA()()()()()),2&a){const t=e.oxw();e.xp6(2),e.s9C("src",t.place.image,e.LSH),e.s9C("alt",t.place.name),e.xp6(4),e.lnq("",t.place.address.street," ",t.place.address.number,", ",t.place.address.city," "),e.xp6(1),e.Gre("fi fi-",t.place.address.country.toLowerCase(),""),e.xp6(3),e.MGl("src","/assets/logos/",t.place.type.toLowerCase(),".svg",e.LSH),e.xp6(2),e.Oqu(t.place.type),e.xp6(1),e.MGl("routerLink","/places/",t.place.id,"")}}let x=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-place-card"]],inputs:{place:"place"},decls:1,vars:1,consts:[["class","col",4,"ngIf"],[1,"col"],[1,"card","shadow-sm"],["width","100%","height","225",1,"bd-placeholder-img","card-img-top",3,"src","alt"],[1,"card-body"],[1,"d-flex","justify-content-between"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center"],["height","24",1,"me-2",2,"opacity","60%",3,"src"],[1,"text-muted"],[1,"btn","btn-sm","btn-outline-success",3,"routerLink"]],template:function(t,c){1&t&&e.YNc(0,P,15,11,"div",0),2&t&&e.Q6J("ngIf",c.place)},dependencies:[i.O5,r.yS]}),a})();function v(a,n){1&a&&e._UZ(0,"app-place-card",2),2&a&&e.Q6J("place",n.$implicit)}let Z=(()=>{class a{constructor(t){this.service=t,this.places=[]}ngOnInit(){this.service.readAll().subscribe(t=>this.places=t)}get Places(){return this.places}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(f))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-places-list"]],decls:2,vars:1,consts:[[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","g-3"],[3,"place",4,"ngFor","ngForOf"],[3,"place"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0),e.YNc(1,v,1,1,"app-place-card",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",c.Places))},dependencies:[i.sg,x]}),a})();var _=o(1481);let C=(()=>{class a{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(_.H7,16))},a.\u0275pipe=e.Yjl({name:"safe",type:a,pure:!0}),a})(),b=(()=>{class a{transform(t,...c){if(!t)return"a long time ago";let s=(Date.now()-Date.parse(t))/1e3;if(s<10)return"just now";if(s<60)return"a moment ago";const g=[60,60,24,30,12];let l;for(l=0;Math.floor(s/g[l])>0;l++)s/=g[l];const O=Math.floor(s)>1?"s":"";return Math.floor(s)+[" second"," minute"," hour"," day"," month"," year"][l]+O+" ago"}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275pipe=e.Yjl({name:"dateAsAgo",type:a,pure:!0}),a})();function w(a,n){if(1&a&&(e.TgZ(0,"div",3),e._UZ(1,"img",4),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.s9C("src",t.Place.image,e.LSH),e.s9C("alt",t.Place.name)}}function A(a,n){if(1&a&&(e.TgZ(0,"a",23),e._UZ(1,"i",24),e.qZA()),2&a){const t=e.oxw(2);e.s9C("href",t.Place.contact.website,e.LSH)}}function y(a,n){if(1&a&&(e.TgZ(0,"a",25),e._UZ(1,"i",26),e.qZA()),2&a){const t=e.oxw(2);e.s9C("href",t.Place.contact.facebook,e.LSH)}}function T(a,n){if(1&a&&(e.TgZ(0,"a",25),e._UZ(1,"i",27),e.qZA()),2&a){const t=e.oxw(2);e.s9C("href",t.Place.contact.instagram,e.LSH)}}function U(a,n){if(1&a&&(e.TgZ(0,"a",25),e._UZ(1,"i",28),e.qZA()),2&a){const t=e.oxw(2);e.s9C("href",t.Place.contact.twitter,e.LSH)}}function L(a,n){if(1&a&&(e.TgZ(0,"a",25),e._UZ(1,"i",29),e.qZA()),2&a){const t=e.oxw(2);e.s9C("href",t.Place.contact.mail,e.LSH)}}function I(a,n){if(1&a&&(e.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"h1",11),e._uU(7),e.qZA(),e.TgZ(8,"div",12),e._UZ(9,"img",13),e.TgZ(10,"p",14),e._uU(11),e.qZA()(),e.TgZ(12,"div",15),e.YNc(13,A,2,1,"a",16),e.YNc(14,y,2,1,"a",17),e.YNc(15,T,2,1,"a",17),e.YNc(16,U,2,1,"a",17),e.YNc(17,L,2,1,"a",17),e.qZA(),e.TgZ(18,"p",14)(19,"small",18),e._uU(20),e.ALo(21,"dateAsAgo"),e.qZA()()()(),e.TgZ(22,"div",19)(23,"div",20)(24,"a",21),e._UZ(25,"i",22),e.qZA(),e.TgZ(26,"p"),e._uU(27,"Like"),e.qZA(),e.TgZ(28,"p"),e._uU(29,"(Likes: 0)"),e.qZA()()()()()()()),2&a){const t=e.oxw();e.xp6(7),e.Oqu(t.Place.name),e.xp6(2),e.MGl("src","assets/logos/",t.Place.type.toLowerCase(),".svg",e.LSH),e.xp6(2),e.Oqu(t.Place.type),e.xp6(2),e.Q6J("ngIf",t.Place.contact.website),e.xp6(1),e.Q6J("ngIf",t.Place.contact.facebook),e.xp6(1),e.Q6J("ngIf",t.Place.contact.instagram),e.xp6(1),e.Q6J("ngIf",t.Place.contact.twitter),e.xp6(1),e.Q6J("ngIf",t.Place.contact.mail),e.xp6(3),e.hij("Last updated ",e.lcZ(21,9,t.Place.dateLastModified),"")}}function S(a,n){if(1&a&&(e.TgZ(0,"div",30)(1,"div",9)(2,"article",31)(3,"h2",32),e._uU(4,"Description"),e.qZA(),e.TgZ(5,"p",33),e._uU(6),e.ALo(7,"date"),e.TgZ(8,"a",34),e._uU(9),e.qZA()(),e.TgZ(10,"p"),e._uU(11),e.qZA()()(),e.TgZ(12,"div",35)(13,"div",36)(14,"div"),e._UZ(15,"iframe",37),e.ALo(16,"safe"),e.qZA()(),e.TgZ(17,"p",38),e._uU(18),e._UZ(19,"span"),e.qZA(),e.TgZ(20,"p",38),e._UZ(21,"i",39),e._uU(22),e.qZA()()()),2&a){const t=e.oxw();e.xp6(6),e.hij("Added: ",e.xi3(7,12,t.Place.dateCreated,"short")," by "),e.xp6(2),e.MGl("routerLink","/users/",t.Place.username,""),e.xp6(1),e.Oqu(t.Place.username),e.xp6(2),e.Oqu(t.Place.description),e.xp6(4),e.Q6J("src",e.lcZ(16,15,t.MapURL),e.uOi),e.xp6(3),e.lnq("",t.Place.address.street," ",t.Place.address.number,", ",t.Place.address.city," "),e.xp6(1),e.Gre("fi fi-",t.Place.address.country.toLowerCase(),""),e.xp6(3),e.Oqu(t.Place.contact.telephone)}}const M=[{path:"",component:(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-places"]],decls:1,vars:0,template:function(t,c){1&t&&e._UZ(0,"router-outlet")},dependencies:[r.lC]}),a})(),children:[{path:"all",component:Z},{path:":id",component:(()=>{class a{constructor(t,c){this.service=t,this.route=c,this.place=null,this.mapURL=""}ngOnInit(){const t=Number(this.route.snapshot.paramMap.get("id"));this.service.readOne(t).subscribe(c=>{this.place=c,this.mapURL=`https://www.google.com/maps/embed/v1/search?key=${m.N.APIKEY}&q=${this.place.address.street}+${this.place.address.number}+${this.place.address.city}`})}get Place(){return this.place}get MapURL(){return this.mapURL}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(f),e.Y36(r.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-IPlace-details"]],decls:3,vars:3,consts:[["class","mb-4 rounded",4,"ngIf"],["class","row mb-2",4,"ngIf"],["class","row g-5",4,"ngIf"],[1,"mb-4","rounded"],["height","360",1,"w-100",2,"object-fit","cover","object-position","top",3,"src","alt"],[1,"row","mb-2"],[1,"col"],[1,"card","mb-3"],[1,"row","g-0"],[1,"col-md-8"],[1,"card-body"],[1,"card-title"],[1,"d-flex","align-items-center","mb-2"],["height","20","alt","Bar",1,"me-2",3,"src"],[1,"card-text"],[1,"d-inline-flex"],["class","h1","target","_blank",3,"href",4,"ngIf"],["class","h1 ms-2","target","_blank",3,"href",4,"ngIf"],[1,"text-muted"],[1,"col-md-4","row","align-items-center"],[1,"row","text-center"],["href","",1,"d-flex","justify-content-center","mb-2"],[1,"bi","bi-heart","h1","text-danger"],["target","_blank",1,"h1",3,"href"],[1,"bi","bi-browser-chrome","text-dark"],["target","_blank",1,"h1","ms-2",3,"href"],[1,"bi","bi-facebook","text-dark"],[1,"bi","bi-instagram","text-dark"],[1,"bi","bi-twitter","text-dark"],[1,"bi","bi-envelope","text-dark"],[1,"row","g-5"],[1,"blog-post"],[1,"blog-post-title","mb-1"],[1,"blog-post-meta"],[3,"routerLink"],[1,"col-md-4"],[1,"position-sticky",2,"top","2rem"],["height","400","loading","lazy","allowfullscreen","","referrerpolicy","no-referrer-when-downgrade",1,"w-100",2,"border","0",3,"src"],[1,"text-center"],[1,"bi","bi-telephone"]],template:function(t,c){1&t&&(e.YNc(0,w,2,2,"div",0),e.YNc(1,I,30,11,"div",1),e.YNc(2,S,23,17,"div",2)),2&t&&(e.Q6J("ngIf",c.Place),e.xp6(1),e.Q6J("ngIf",c.Place),e.xp6(1),e.Q6J("ngIf",c.Place))},dependencies:[i.O5,r.yS,i.uU,C,b]}),a})()}]}];let q=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[r.Bz.forChild(M),r.Bz]}),a})();var k=o(433);let D=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[i.ez,q,p.JF,k.u5]}),a})()}}]);